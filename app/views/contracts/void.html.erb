<script>
document.addEventListener('input', function (event) {
  if (event.target.classList.contains('auto-expand')) {
    const minHeight = parseInt(getComputedStyle(event.target).minHeight);
    event.target.style.height = 'auto';
    const newHeight = Math.max(event.target.scrollHeight, minHeight);
    event.target.style.height = newHeight + 'px';
  }
});
</script>

<div class="modal fade" id="rejectModal" tabindex="-1" role="dialog" aria-labelledby="rejectModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="overflow-x: hidden;">
      <div class="modal-body" style="padding: 20px;">
        <%= form_with model: @contract, url: contract_log_hard_rejection_path(@contract), method: :post, remote: true do |f| %>
          <div class="form-group">
            <%= f.label :void_reason, 'Void Reason', style: "font-size: 1.5rem; font-weight: 600; color: #555;" %>
            <%= f.text_area :void_reason, 
                            class: 'form-control auto-expand', 
                            style: "border-radius: 6px; border: 1px solid #ddd; padding: 10px; font-size: 0.95rem; width: 100%; min-height: 100px; overflow-y: hidden; resize: none;", 
                            placeholder: 'Please specify the reason...', 
                            required: true %>
          </div>
          <div class="form-group text-center" style="margin-top: 15px;">
            <%= f.submit 'Void Amendment', class: 'btn', style: "background-color: #ff4d4f; color: #fff; font-size: 1rem; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer;" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>